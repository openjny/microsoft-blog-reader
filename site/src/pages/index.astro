---
import Layout from "../layouts/Layout.astro";
import ArticleCard from "../components/ArticleCard.astro";
import { getArticles, getTotalCount } from "../lib/db";

const articles = getArticles(30);
const totalCount = getTotalCount();
---

<Layout title="Microsoft Blog Reader">
  <div class="mb-6">
    <p class="text-gray-600">
      Showing latest {articles.length} of {totalCount} articles
    </p>
  </div>
  <div class="space-y-4">
    {articles.map((article) => <ArticleCard article={article} />)}
  </div>
</Layout>
